# 项目拖拽排序功能说明

## 🎯 功能概述
现在你可以通过拖拽来重新排序左侧的项目列表了！

## 🔧 功能特点

### ✨ 新增功能
1. **拖拽手柄**：每个项目左侧都有一个拖拽图标（⋮⋮）
2. **拖拽排序**：点击并拖动项目可以重新排序
3. **视觉反馈**：拖拽时有明显的视觉提示
4. **持久化存储**：排序会保存到本地存储，刷新页面后保持

### 🎨 视觉效果
- **拖拽中**：被拖拽的项目会变透明并稍微旋转
- **拖拽目标**：目标位置会高亮显示
- **拖拽手柄**：鼠标悬停时会变色，点击时显示抓取手势

## 📱 使用方法

### 基本操作
1. **找到拖拽手柄**：每个项目左侧的 `⋮⋮` 图标
2. **开始拖拽**：点击并按住拖拽手柄
3. **移动项目**：拖动到目标位置
4. **释放完成**：松开鼠标完成排序

### 操作流程
```
点击拖拽手柄 → 拖动到新位置 → 松开鼠标 → 排序完成
```

## 🔄 技术实现

### 前端功能
- **HTML5 Drag & Drop API**：使用原生拖拽功能
- **动态事件绑定**：每次渲染时重新绑定拖拽事件
- **实时排序**：拖拽完成后立即更新项目顺序

### 存储机制
- **本地存储**：使用 `localStorage` 保存项目排序
- **恢复排序**：页面加载时自动恢复之前的排序
- **容错处理**：如果排序数据损坏，会使用默认顺序

### 样式优化
- **拖拽状态**：`.dragging` 类提供拖拽时的视觉效果
- **目标高亮**：`.drag-over` 类高亮显示拖拽目标
- **平滑动画**：CSS transition 提供流畅的动画效果

## 🔍 功能细节

### 拖拽手柄样式
```css
.project-drag-handle {
    display: flex;
    align-items: center;
    margin-right: 8px;
    color: #999;
    cursor: grab;
    padding: 4px;
    border-radius: 4px;
    transition: all 0.2s ease;
}
```

### 拖拽状态样式
```css
.project-item.dragging {
    opacity: 0.5;
    transform: rotate(5deg);
    z-index: 1000;
}

.project-item.drag-over {
    border-color: #f39c12;
    background: rgba(243, 156, 18, 0.1);
    transform: translateX(8px);
}
```

## 🛠️ 相关函数

### 主要函数
- `setupProjectDragAndDrop()` - 设置拖拽事件监听器
- `handleDragStart()` - 处理拖拽开始
- `handleDrop()` - 处理拖拽放置
- `saveProjectOrder()` - 保存项目排序
- `loadProjectOrder()` - 加载项目排序

### 事件处理
- `dragstart` - 拖拽开始时设置拖拽数据和样式
- `dragover` - 拖拽过程中允许放置
- `dragenter` - 进入拖拽目标时高亮显示
- `dragleave` - 离开拖拽目标时移除高亮
- `drop` - 放置时更新项目顺序
- `dragend` - 拖拽结束时清理样式

## 🎉 使用体验
- **直观操作**：通过拖拽重新排序，符合用户习惯
- **即时反馈**：拖拽过程中有清晰的视觉提示
- **持久保存**：排序结果会自动保存，下次访问时保持
- **流畅动画**：所有交互都有平滑的动画过渡

## 🔄 兼容性
- 支持所有现代浏览器的 HTML5 Drag & Drop API
- 移动端可能需要额外的触摸事件处理（后续可以添加）
- 降级处理：如果不支持拖拽，仍可正常点击选择项目

立即体验这个新功能吧！🚀
